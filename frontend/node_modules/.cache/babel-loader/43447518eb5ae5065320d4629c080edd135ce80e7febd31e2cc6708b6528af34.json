{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\IIT\\\\Level 5\\\\Semester 1\\\\SDGP\\\\Implementation\\\\Minthaj\\\\frontend\\\\frontend\\\\src\\\\notification\\\\Reminder.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reminder = () => {\n  _s();\n  const [isActive, setIsActive] = useState(JSON.parse(localStorage.getItem(\"reminderActive\") || \"true\"));\n  useEffect(() => {\n    let interval;\n    if (isActive) {\n      localStorage.setItem(\"reminderActive\", JSON.stringify(true));\n      interval = setInterval(() => {\n        const message = \"Take a break! You’ve been working for 30 minutes.\";\n        saveNotification(message);\n        window.localStorage.removeItem(\"read\");\n        showNotification(message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 5 * 1000);\n      }, 1 * 60 * 1000);\n    } else {\n      localStorage.setItem(\"reminderActive\", JSON.stringify(false));\n    }\n    return () => clearInterval(interval);\n  }, [isActive]);\n\n  // Function to show toast and desktop notification\n  const showNotification = message => {\n    toast.warn(message);\n    if (Notification.permission === \"granted\") {\n      new Notification(\"Reminder\", {\n        body: message\n      });\n    }\n  };\n\n  // Save notifications in localStorage\n  const saveNotification = message => {\n    const notifications = JSON.parse(localStorage.getItem(\"notifications\") || \"[]\");\n    notifications.push({\n      message,\n      time: new Date().toLocaleString()\n    });\n    localStorage.setItem(\"notifications\", JSON.stringify(notifications));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Reminder, \"f0PbbLatzAJ+orQ7su2LZddNxdY=\");\n_c = Reminder;\nexport default Reminder;\nvar _c;\n$RefreshReg$(_c, \"Reminder\");","map":{"version":3,"names":["useEffect","useState","ToastContainer","toast","jsxDEV","_jsxDEV","Reminder","_s","isActive","setIsActive","JSON","parse","localStorage","getItem","interval","setItem","stringify","setInterval","message","saveNotification","window","removeItem","showNotification","setTimeout","location","reload","clearInterval","warn","Notification","permission","body","notifications","push","time","Date","toLocaleString","children","position","autoClose","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/IIT/Level 5/Semester 1/SDGP/Implementation/Minthaj/frontend/frontend/src/notification/Reminder.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Reminder = () => {\r\n  const [isActive, setIsActive] = useState(\r\n    JSON.parse(localStorage.getItem(\"reminderActive\") || \"true\")\r\n  );\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n\r\n    if (isActive) {\r\n      localStorage.setItem(\"reminderActive\", JSON.stringify(true));\r\n\r\n      interval = setInterval(() => {\r\n        const message = \"Take a break! You’ve been working for 30 minutes.\";\r\n        \r\n        saveNotification(message);\r\n        window.localStorage.removeItem(\"read\")\r\n        \r\n        showNotification(message);\r\n\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 5 * 1000);\r\n      },  1 * 60 * 1000); \r\n    } else {\r\n      localStorage.setItem(\"reminderActive\", JSON.stringify(false));\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isActive]);\r\n\r\n\r\n  // Function to show toast and desktop notification\r\n  const showNotification = (message) => {\r\n    toast.warn(message);\r\n    if (Notification.permission === \"granted\") {\r\n      new Notification(\"Reminder\", { body: message });\r\n    }\r\n  };\r\n\r\n  // Save notifications in localStorage\r\n  const saveNotification = (message) => {\r\n    const notifications = JSON.parse(localStorage.getItem(\"notifications\") || \"[]\");\r\n    notifications.push({ message, time: new Date().toLocaleString() });\r\n    localStorage.setItem(\"notifications\", JSON.stringify(notifications));\r\n  };\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <ToastContainer position=\"top-right\" autoClose={5000} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reminder;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CACtCS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,IAAI,MAAM,CAC7D,CAAC;EAEDb,SAAS,CAAC,MAAM;IACd,IAAIc,QAAQ;IAEZ,IAAIN,QAAQ,EAAE;MACZI,YAAY,CAACG,OAAO,CAAC,gBAAgB,EAAEL,IAAI,CAACM,SAAS,CAAC,IAAI,CAAC,CAAC;MAE5DF,QAAQ,GAAGG,WAAW,CAAC,MAAM;QAC3B,MAAMC,OAAO,GAAG,mDAAmD;QAEnEC,gBAAgB,CAACD,OAAO,CAAC;QACzBE,MAAM,CAACR,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;QAEtCC,gBAAgB,CAACJ,OAAO,CAAC;QAEzBK,UAAU,CAAC,MAAM;UACfH,MAAM,CAACI,QAAQ,CAACC,MAAM,CAAC,CAAC;QAC1B,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;MACd,CAAC,EAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;IACpB,CAAC,MAAM;MACLb,YAAY,CAACG,OAAO,CAAC,gBAAgB,EAAEL,IAAI,CAACM,SAAS,CAAC,KAAK,CAAC,CAAC;IAC/D;IAEA,OAAO,MAAMU,aAAa,CAACZ,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;;EAGd;EACA,MAAMc,gBAAgB,GAAIJ,OAAO,IAAK;IACpCf,KAAK,CAACwB,IAAI,CAACT,OAAO,CAAC;IACnB,IAAIU,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;MACzC,IAAID,YAAY,CAAC,UAAU,EAAE;QAAEE,IAAI,EAAEZ;MAAQ,CAAC,CAAC;IACjD;EACF,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAID,OAAO,IAAK;IACpC,MAAMa,aAAa,GAAGrB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;IAC/EkB,aAAa,CAACC,IAAI,CAAC;MAAEd,OAAO;MAAEe,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC;IAAE,CAAC,CAAC;IAClEvB,YAAY,CAACG,OAAO,CAAC,eAAe,EAAEL,IAAI,CAACM,SAAS,CAACe,aAAa,CAAC,CAAC;EACtE,CAAC;EAGD,oBACE1B,OAAA;IAAA+B,QAAA,eACE/B,OAAA,CAACH,cAAc;MAACmC,QAAQ,EAAC,WAAW;MAACC,SAAS,EAAE;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrD,CAAC;AAEV,CAAC;AAACnC,EAAA,CApDID,QAAQ;AAAAqC,EAAA,GAARrC,QAAQ;AAsDd,eAAeA,QAAQ;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}